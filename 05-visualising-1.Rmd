# Visualising spatial data part 1: sf, mapview, tmap {#visualising-1}

In this section we use tmap, sf and mapview packages to visualise spatial data. In particular this section focuses on:

1. Creating static maps
2. Add layers to the maps
3. Creating interactive maps


<style>
div.blue { background-color:#e6f0ff; border-radius: 5px; padding: 20px;}
</style>
<div class = "blue">
**Hint**: In order to work properly a list requires an empty line beforehand.
</div>

## Static maps
### Basics (this step can be removed if the basic steps can be put in ch.3 'R recap', since they repeat for all packages)
Set up the working directory with the command `setwd("path to your directory")` or with the `openProject` function as follows (recommended):

```{r, eval=FALSE}
rstudioapi::openProject("path to your directory")
```

Install required packages

```{r, eval=FALSE}
cran_packages_to_install <- c(
  "tmap"               # map-making package
  "tidyverse",         # metapackage containing dplyr, ggplot2 and other packages
  "sf",                # package for working with spatial data
  "rnaturalearth",     # data package
  "rnaturalearthdata"  # data package
  )
install.packages(cran_packages_to_install)
```

Load the packages

```{r, results='hide', warning=FALSE, message=FALSE}
library(tmap)
library(ggplot2)
library(sf)
library(rnaturalearth)
library(rnaturalearthdata)
library(dplyr)
```

Create a dataset

```{r}
africa <- ne_countries(continent = 'africa', scale = "medium", returnclass = "sf")
```

Create an empty contour map of the continent

```{r}
tm_shape(africa)+
  tm_borders()
```

## Layers for the static maps

Fill map using data on last census data and add labels for country names

```{r, warning=FALSE}
tm_shape(africa)+
  tm_fill(col="lastcensus", title="Year of last census", legend.format = list(format="s"))+
  tm_borders()+
  tm_text("admin", size = 0.52,  fontface="bold", auto.placement = TRUE)

```

## Interactive maps

Mapview package allows for an interactive viewing of spatial objects in R.

Install mapview package
```{r, results='hide', warning=FALSE, message=FALSE}
install.packages("mapview")
```
Load package
```{r, results='hide', warning=FALSE, message=FALSE}
library(mapview)
```
Basics
```{r, warning=FALSE, message=FALSE}
mapview(africa)
```
## Layers for the interactive maps

